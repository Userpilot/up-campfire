{"ast":null,"code":"function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Auth0Lock from 'auth0-lock';\nimport Auth0Config from '@iso/config/auth0.config';\nimport { setCookie, getCookie, removeCookie } from '../auth.utils';\n\nclass Auth0Helper {\n  constructor() {\n    _defineProperty(this, \"isValid\", Auth0Config.clientID && Auth0Config.domain);\n\n    _defineProperty(this, \"lock\", null);\n\n    this.login = this.login.bind(this);\n  }\n\n  login(handleLogin) {\n    this.lock = this.isValid ? new Auth0Lock(Auth0Config.clientID, Auth0Config.domain, Auth0Config.options) : null;\n    this.lock.on('authenticated', authResult => {\n      if (authResult && authResult.accessToken) {\n        setCookie('access_token', authResult.accessToken);\n        handleLogin();\n        return;\n      }\n    });\n    this.lock.show();\n  }\n\n}\n\nexport default new Auth0Helper();","map":{"version":3,"sources":["/Users/walaa/Desktop/Isomorphic Main/isomorphic/packages/isomorphic-next/authentication/Auth0/index.js"],"names":["Auth0Lock","Auth0Config","setCookie","getCookie","removeCookie","Auth0Helper","constructor","clientID","domain","login","bind","handleLogin","lock","isValid","options","on","authResult","accessToken","show"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,YAA/B,QAAmD,eAAnD;;AAEA,MAAMC,WAAN,CAAkB;AAGhBC,EAAAA,WAAW,GAAG;AAAA,qCAFJL,WAAW,CAACM,QAAZ,IAAwBN,WAAW,CAACO,MAEhC;;AAAA,kCADP,IACO;;AACZ,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACD;;AACDD,EAAAA,KAAK,CAACE,WAAD,EAAc;AACjB,SAAKC,IAAL,GAAY,KAAKC,OAAL,GACR,IAAIb,SAAJ,CACEC,WAAW,CAACM,QADd,EAEEN,WAAW,CAACO,MAFd,EAGEP,WAAW,CAACa,OAHd,CADQ,GAMR,IANJ;AAQA,SAAKF,IAAL,CAAUG,EAAV,CAAa,eAAb,EAA8BC,UAAU,IAAI;AAC1C,UAAIA,UAAU,IAAIA,UAAU,CAACC,WAA7B,EAA0C;AACxCf,QAAAA,SAAS,CAAC,cAAD,EAAiBc,UAAU,CAACC,WAA5B,CAAT;AACAN,QAAAA,WAAW;AACX;AACD;AACF,KAND;AAOA,SAAKC,IAAL,CAAUM,IAAV;AACD;;AAvBe;;AAyBlB,eAAe,IAAIb,WAAJ,EAAf","sourcesContent":["import Auth0Lock from 'auth0-lock';\nimport Auth0Config from '@iso/config/auth0.config';\nimport { setCookie, getCookie, removeCookie } from '../auth.utils';\n\nclass Auth0Helper {\n  isValid = Auth0Config.clientID && Auth0Config.domain;\n  lock = null;\n  constructor() {\n    this.login = this.login.bind(this);\n  }\n  login(handleLogin) {\n    this.lock = this.isValid\n      ? new Auth0Lock(\n          Auth0Config.clientID,\n          Auth0Config.domain,\n          Auth0Config.options\n        )\n      : null;\n\n    this.lock.on('authenticated', authResult => {\n      if (authResult && authResult.accessToken) {\n        setCookie('access_token', authResult.accessToken);\n        handleLogin();\n        return;\n      }\n    });\n    this.lock.show();\n  }\n}\nexport default new Auth0Helper();\n"]},"metadata":{},"sourceType":"module"}