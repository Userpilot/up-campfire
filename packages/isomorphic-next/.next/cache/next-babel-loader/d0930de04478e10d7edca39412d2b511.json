{"ast":null,"code":"import { createSelector } from 'reselect';\n\nconst allMailsSelector = state => state.allMails;\n\nconst filterAttrSelector = state => state.filterAttr;\n\nconst searchStringSelector = state => state.searchString;\n\nconst filterBucket = (mails, bucket) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (bucket === mail.bucket) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\n\nconst filterTag = (mails, tag) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (mail.tags && mail.tags.indexOf(tag) !== -1) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\n\nconst filterMaiil = (allMails, filterAttr, searchString) => {\n  let newMails = filterBucket(allMails, filterAttr.bucket);\n\n  if (filterAttr.tag) {\n    newMails = filterTag(allMails, filterAttr.tag);\n  }\n\n  if (searchString) {\n    const search = searchString.toUpperCase();\n    newMails = newMails.filter(mail => `${mail.email}${mail.body}${mail.subject}`.toUpperCase().includes(search));\n  }\n\n  return newMails;\n};\n\nexport default createSelector(allMailsSelector, filterAttrSelector, searchStringSelector, filterMaiil);","map":{"version":3,"sources":["/Users/walaa/Desktop/Isomorphic Main/isomorphic/node_modules/@iso/redux/mail/selector.js"],"names":["createSelector","allMailsSelector","state","allMails","filterAttrSelector","filterAttr","searchStringSelector","searchString","filterBucket","mails","bucket","newMails","forEach","mail","push","filterTag","tag","tags","indexOf","filterMaiil","search","toUpperCase","filter","email","body","subject","includes"],"mappings":"AAAA,SAASA,cAAT,QAA+B,UAA/B;;AAEA,MAAMC,gBAAgB,GAAGC,KAAK,IAAIA,KAAK,CAACC,QAAxC;;AACA,MAAMC,kBAAkB,GAAGF,KAAK,IAAIA,KAAK,CAACG,UAA1C;;AACA,MAAMC,oBAAoB,GAAGJ,KAAK,IAAIA,KAAK,CAACK,YAA5C;;AAEA,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACtC,QAAMC,QAAQ,GAAG,EAAjB;AACAF,EAAAA,KAAK,CAACG,OAAN,CAAcC,IAAI,IAAI;AACpB,QAAIH,MAAM,KAAKG,IAAI,CAACH,MAApB,EAA4B;AAC1BC,MAAAA,QAAQ,CAACG,IAAT,CAAcD,IAAd;AACD;AACF,GAJD;AAKA,SAAOF,QAAP;AACD,CARD;;AASA,MAAMI,SAAS,GAAG,CAACN,KAAD,EAAQO,GAAR,KAAgB;AAChC,QAAML,QAAQ,GAAG,EAAjB;AACAF,EAAAA,KAAK,CAACG,OAAN,CAAcC,IAAI,IAAI;AACpB,QAAIA,IAAI,CAACI,IAAL,IAAaJ,IAAI,CAACI,IAAL,CAAUC,OAAV,CAAkBF,GAAlB,MAA2B,CAAC,CAA7C,EAAgD;AAC9CL,MAAAA,QAAQ,CAACG,IAAT,CAAcD,IAAd;AACD;AACF,GAJD;AAKA,SAAOF,QAAP;AACD,CARD;;AASA,MAAMQ,WAAW,GAAG,CAAChB,QAAD,EAAWE,UAAX,EAAuBE,YAAvB,KAAwC;AAC1D,MAAII,QAAQ,GAAGH,YAAY,CAACL,QAAD,EAAWE,UAAU,CAACK,MAAtB,CAA3B;;AACA,MAAIL,UAAU,CAACW,GAAf,EAAoB;AAClBL,IAAAA,QAAQ,GAAGI,SAAS,CAACZ,QAAD,EAAWE,UAAU,CAACW,GAAtB,CAApB;AACD;;AACD,MAAIT,YAAJ,EAAkB;AAChB,UAAMa,MAAM,GAAGb,YAAY,CAACc,WAAb,EAAf;AACAV,IAAAA,QAAQ,GAAGA,QAAQ,CAACW,MAAT,CAAgBT,IAAI,IAC5B,GAAEA,IAAI,CAACU,KAAM,GAAEV,IAAI,CAACW,IAAK,GAAEX,IAAI,CAACY,OAAQ,EAAzC,CAA2CJ,WAA3C,GAAyDK,QAAzD,CAAkEN,MAAlE,CADS,CAAX;AAGD;;AACD,SAAOT,QAAP;AACD,CAZD;;AAcA,eAAeX,cAAc,CAC3BC,gBAD2B,EAE3BG,kBAF2B,EAG3BE,oBAH2B,EAI3Ba,WAJ2B,CAA7B","sourcesContent":["import { createSelector } from 'reselect';\n\nconst allMailsSelector = state => state.allMails;\nconst filterAttrSelector = state => state.filterAttr;\nconst searchStringSelector = state => state.searchString;\n\nconst filterBucket = (mails, bucket) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (bucket === mail.bucket) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\nconst filterTag = (mails, tag) => {\n  const newMails = [];\n  mails.forEach(mail => {\n    if (mail.tags && mail.tags.indexOf(tag) !== -1) {\n      newMails.push(mail);\n    }\n  });\n  return newMails;\n};\nconst filterMaiil = (allMails, filterAttr, searchString) => {\n  let newMails = filterBucket(allMails, filterAttr.bucket);\n  if (filterAttr.tag) {\n    newMails = filterTag(allMails, filterAttr.tag);\n  }\n  if (searchString) {\n    const search = searchString.toUpperCase();\n    newMails = newMails.filter(mail =>\n      `${mail.email}${mail.body}${mail.subject}`.toUpperCase().includes(search)\n    );\n  }\n  return newMails;\n};\n\nexport default createSelector(\n  allMailsSelector,\n  filterAttrSelector,\n  searchStringSelector,\n  filterMaiil\n);\n"]},"metadata":{},"sourceType":"module"}