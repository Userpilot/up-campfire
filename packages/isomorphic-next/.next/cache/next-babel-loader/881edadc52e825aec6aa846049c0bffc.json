{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Auth0Lock from 'auth0-lock';\nimport Auth0Config from '@iso/config/auth0.config';\nimport { setCookie, getCookie, removeCookie } from '../auth.utils';\n\nvar Auth0Helper = /*#__PURE__*/function () {\n  function Auth0Helper() {\n    _classCallCheck(this, Auth0Helper);\n\n    _defineProperty(this, \"isValid\", Auth0Config.clientID && Auth0Config.domain);\n\n    _defineProperty(this, \"lock\", null);\n\n    this.login = this.login.bind(this);\n  }\n\n  _createClass(Auth0Helper, [{\n    key: \"login\",\n    value: function login(handleLogin) {\n      this.lock = this.isValid ? new Auth0Lock(Auth0Config.clientID, Auth0Config.domain, Auth0Config.options) : null;\n      this.lock.on('authenticated', function (authResult) {\n        if (authResult && authResult.accessToken) {\n          setCookie('access_token', authResult.accessToken);\n          handleLogin();\n          return;\n        }\n      });\n      this.lock.show();\n    }\n  }]);\n\n  return Auth0Helper;\n}();\n\nexport default new Auth0Helper();","map":{"version":3,"sources":["/Users/walaa/Desktop/Isomorphic Main/isomorphic/packages/isomorphic-next/authentication/Auth0/index.js"],"names":["Auth0Lock","Auth0Config","setCookie","getCookie","removeCookie","Auth0Helper","clientID","domain","login","bind","handleLogin","lock","isValid","options","on","authResult","accessToken","show"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,YAAtB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,YAA/B,QAAmD,eAAnD;;IAEMC,W;AAGJ,yBAAc;AAAA;;AAAA,qCAFJJ,WAAW,CAACK,QAAZ,IAAwBL,WAAW,CAACM,MAEhC;;AAAA,kCADP,IACO;;AACZ,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACD;;;;0BACKC,W,EAAa;AACjB,WAAKC,IAAL,GAAY,KAAKC,OAAL,GACR,IAAIZ,SAAJ,CACEC,WAAW,CAACK,QADd,EAEEL,WAAW,CAACM,MAFd,EAGEN,WAAW,CAACY,OAHd,CADQ,GAMR,IANJ;AAQA,WAAKF,IAAL,CAAUG,EAAV,CAAa,eAAb,EAA8B,UAAAC,UAAU,EAAI;AAC1C,YAAIA,UAAU,IAAIA,UAAU,CAACC,WAA7B,EAA0C;AACxCd,UAAAA,SAAS,CAAC,cAAD,EAAiBa,UAAU,CAACC,WAA5B,CAAT;AACAN,UAAAA,WAAW;AACX;AACD;AACF,OAND;AAOA,WAAKC,IAAL,CAAUM,IAAV;AACD;;;;;;AAEH,eAAe,IAAIZ,WAAJ,EAAf","sourcesContent":["import Auth0Lock from 'auth0-lock';\nimport Auth0Config from '@iso/config/auth0.config';\nimport { setCookie, getCookie, removeCookie } from '../auth.utils';\n\nclass Auth0Helper {\n  isValid = Auth0Config.clientID && Auth0Config.domain;\n  lock = null;\n  constructor() {\n    this.login = this.login.bind(this);\n  }\n  login(handleLogin) {\n    this.lock = this.isValid\n      ? new Auth0Lock(\n          Auth0Config.clientID,\n          Auth0Config.domain,\n          Auth0Config.options\n        )\n      : null;\n\n    this.lock.on('authenticated', authResult => {\n      if (authResult && authResult.accessToken) {\n        setCookie('access_token', authResult.accessToken);\n        handleLogin();\n        return;\n      }\n    });\n    this.lock.show();\n  }\n}\nexport default new Auth0Helper();\n"]},"metadata":{},"sourceType":"module"}